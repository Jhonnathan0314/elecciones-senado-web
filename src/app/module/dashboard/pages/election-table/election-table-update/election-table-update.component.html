<h1>Mesas de elección - Actualizar</h1>
<form [formGroup]="updateForm" class="form flex-column">
    <div class="field flex-field">
        <label for="numberIds">Número de votantes</label>
        <input #numberIdsInput type="number" formControlName="numberIds">
    </div>
    <div class="field flex-field">
        <label for="totalVotes">Total votos</label>
        <input #totalVotesInput type="number" formControlName="totalVotes">
    </div>
    <div class="field flex-field">
        <label for="departmentId">Departamento</label>
        <select #departmentIdInput type="number" name="departmentId" formControlName="departmentId" (change)="findCitiesByDepartment()">
            <option *ngFor="let department of departments" [value]="department.id">
                {{ department.name }}
            </option>
        </select>
    </div>
    <div class="field flex-field" *ngIf="departmentSelected">
        <label for="cityId">Ciudad</label>
        <select #cityIdInput type="number" name="cityId" formControlName="cityId">
            <option *ngFor="let city of filteredCities" [value]="city.id">
                {{ city.name }}
            </option>
        </select>
    </div>
    <div class="flex-full" *ngIf="!hasServerError">
        <button (click)="validateForm()">Actualizar</button>
    </div>
    <div class="flex-full">
        <span #serverError class="error-text" hidden>Error en el sistema, intente de nuevo más tarde.</span>
    </div>
    <div class="flex-full">
        <span #requestError class="error-text" hidden>Ha ocurrido un error al enviar la información, intente de nuevo más tarde.</span>
    </div>
    <div class="flex-full">
        <span #noChangesError class="error-text" hidden>No se encontraron cambios que guardar.</span>
    </div>
</form>